<html>
<head>
	<title>Character Game</title>
	<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js"></script>
</head> 
<body>

	<div id="character" style="position:absolute; top:0px; left:0px;"><img src="ninja_game/img/down1.png"></img></div>

	<script>
	function gameLoop()	{
		$('#character').css({left: x, top: y});
	}
	setInterval(gameLoop, 150);
	var x=0, y=0, last_key=0, count=0;
	document.onkeydown = function(e) {
		if(e.keyCode == 37) {
			x = x-10;
			if(last_key == 37 && count%2 == 0) {
				$('#character').html('<img src="ninja_game/img/left2.png" />');
			} else {
				$('#character').html('<img src="ninja_game/img/left1.png" />');
			}
			if(x<0) {
				x = 0;
			}
		} else if(e.keyCode == 38) {
			y = y-10;
			if(last_key == 38 && count%2 == 0) {
				$('#character').html('<img src="ninja_game/img/top2.png" />');
			} else {
				$('#character').html('<img src="ninja_game/img/top1.png" />');
			}
			if(y<0) {
				y = 0;
			}
		} else if(e.keyCode == 39) {
			x = x+10;
			if(last_key == 39 && count%2 == 0) {
				$('#character').html('<img src="ninja_game/img/right2.png" />');
			} else {
				$('#character').html('<img src="ninja_game/img/right1.png" />');
			}
			if(x>500) {
				x = 500;
			}
		} else if(e.keyCode == 40) {
			y = y+10;
			if(last_key == 40 && count%2 == 0) {
				$('#character').html('<img src="ninja_game/img/down1.png" />');
			} else {
				$('#character').html('<img src="ninja_game/img/down2.png" />');
			}
			if(y>500) {
				y = 500;
			}
		}
		last_key = e.keyCode;
		count++;
		console.log(e.keyCode, x, count%2);
	}
	console.log(document);
	</script>

</body>
</html>